(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{518:function(s,a,t){"use strict";t.r(a);var e=t(2),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"redis的安装和远程连接配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#redis的安装和远程连接配置"}},[s._v("#")]),s._v(" redis的安装和远程连接配置")]),s._v(" "),t("h2",{attrs:{id:"_1、redis的安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、redis的安装"}},[s._v("#")]),s._v(" 1、redis的安装")]),s._v(" "),t("h3",{attrs:{id:"下载安装包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载安装包"}},[s._v("#")]),s._v(" 下载安装包")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[s._v("wget http"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("download"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("redis"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("io"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("releases"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("redis"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".6")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tar"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gz\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"解压"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解压"}},[s._v("#")]),s._v(" 解压")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[s._v("tar "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("zxvf redis"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".6")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tar"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gz\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"yum安装gcc依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yum安装gcc依赖"}},[s._v("#")]),s._v(" yum安装gcc依赖")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[s._v("yum install gcc\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"跳转到redis解压目录下编译安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#跳转到redis解压目录下编译安装"}},[s._v("#")]),s._v(" 跳转到redis解压目录下编译安装")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[s._v("make "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" make install\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"_2、启动redis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、启动redis"}},[s._v("#")]),s._v(" 2、启动redis")]),s._v(" "),t("p",[s._v("切换到安装后的redis目录下，里面有redis.conf文件（redis的配置文件），src目录中有很多redis命令")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//进入src目录运行redis提供的命令启动redis和开启客户端")]),s._v("\ncd src\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//启动redis服务器")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("/redis"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("server\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//启动redis客户端，就是连接redis服务器来看和操作redis内存的数据的非图形化client")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("/redis"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("cli\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h2",{attrs:{id:"_3、远程连接配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、远程连接配置"}},[s._v("#")]),s._v(" 3、远程连接配置")]),s._v(" "),t("p",[s._v("远程连接配置要先配置一下redis密码和一些命令")]),s._v(" "),t("p",[s._v("跳出src目录，可以看到redis.conf文件，下面在这个文件里面进行配置")]),s._v(" "),t("blockquote",[t("p",[s._v("按ESC键，在底下窗口的打上，/加上想要搜索的关键词，vim就会找到文件的相同关键字,按enter键可以跳到下一个关键字。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://blog-1300924781.cos.ap-guangzhou.myqcloud.com/blog/image-20210209233639879.png",alt:"image-20210209233639879"}})])]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//vim打开redis.conf,修改redis.conf文件")]),s._v("\nvim redis"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf\n\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//以守护进程模式运行（即可以自己后台运行），找到daemonize")]),s._v("\n将 daemonize no 修改为 daemonize yes\n\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//找到 bind 127.0.0.1，将其删掉")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//关闭保护模式，找到protected-mode")]),s._v("\n将 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("protected")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("mode yes 修改为 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("protected")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("mode no\n\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//设置密码,找到requirepass")]),s._v("\n将requirepass foobared 修改为 requirepass "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//123456是我自己设置的密码，可以自己设置")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])]),t("p",[s._v("打开6379端口才可以连接访问得到")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[s._v("iptables "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("I")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("INPUT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p tcp "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("m state "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("state "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NEW")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("m tcp "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("dport "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("j "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ACCEPT")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("测试密码有没设置成功的话，可以进入redis的src目录运行")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("/redis"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("cli\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//会出现127.0.0.1:6379>")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//在其中输入set a 1会报下面的错误")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//(error) NOAUTH Authentication required.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//这就说明我们密码设置成功了，客户端让我们输入密码才能据需折行的操作")]),s._v("\n\n输入auth "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("即我们刚刚设置的密码，会显示OK，说明我们密码是设置成功的，并且和我们设置的一致\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h2",{attrs:{id:"_4、远程连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、远程连接"}},[s._v("#")]),s._v(" 4、远程连接")]),s._v(" "),t("p",[s._v("上面配置好的话，就可以试试远程连接啦！！！")]),s._v(" "),t("p",[s._v("如果没有连接成功，我也是被坑了好几次，可能有一下几种情况：")]),s._v(" "),t("h3",{attrs:{id:"一、服务器端口没有打开"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、服务器端口没有打开"}},[s._v("#")]),s._v(" 一、服务器端口没有打开")]),s._v(" "),t("p",[s._v("仅仅使用iptables可能没有起效过，例如我是腾讯云服务器，我还需要在控制台里面打开6379端口，才能远程连接到redis服务器")]),s._v(" "),t("h3",{attrs:{id:"二、有时连接成功了但是长时间不用的话又会连接不上"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、有时连接成功了但是长时间不用的话又会连接不上"}},[s._v("#")]),s._v(" 二、有时连接成功了但是长时间不用的话又会连接不上")]),s._v(" "),t("p",[s._v("可以先ps -aux|grep redis，看看有没有redis-server在运行，如果有可能是端口又发疯了。")]),s._v(" "),t("p",[s._v("运行iptables -I INPUT 1 -p tcp -m state --state NEW -m tcp --dport 6379 -j ACCEPT 试试。")]),s._v(" "),t("p",[s._v("如果没有就是被服务器厂家杀后台，可以重新运行redis-server")]),s._v(" "),t("h4",{attrs:{id:"针对程序被服务器杀死-有以下几种解决方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#针对程序被服务器杀死-有以下几种解决方法"}},[s._v("#")]),s._v(" 针对程序被服务器杀死，有以下几种解决方法：")]),s._v(" "),t("h5",{attrs:{id:"一、使用nohup执行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、使用nohup执行"}},[s._v("#")]),s._v(" 一、使用nohup执行")]),s._v(" "),t("h6",{attrs:{id:"nohup可以使后面的命令不会响应挂断-sighup-信号。也就是说-通过远程登录执行nohup命令后-即使退出登录后-程序还是会正常执行。通常情况下-nohup命令最后会跟上-字符-表示将这个命令放至后台执行-这样才能真正做到将这个命令放至后台持续的执行。"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nohup可以使后面的命令不会响应挂断-sighup-信号。也就是说-通过远程登录执行nohup命令后-即使退出登录后-程序还是会正常执行。通常情况下-nohup命令最后会跟上-字符-表示将这个命令放至后台执行-这样才能真正做到将这个命令放至后台持续的执行。"}},[s._v("#")]),s._v(" "),t("strong",[s._v("nohup可以使后面的命令不会响应挂断（SIGHUP）信号。也就是说，通过远程登录执行nohup命令后，即使退出登录后，程序还是会正常执行。通常情况下，nohup命令最后会跟上&字符，表示将这个命令放至后台执行，这样才能真正做到将这个命令放至后台持续的执行。")])]),s._v(" "),t("h6",{attrs:{id:"例如本来是java-jar-xxx-jar-现在是nohub-java-jar-xxx-jar"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#例如本来是java-jar-xxx-jar-现在是nohub-java-jar-xxx-jar"}},[s._v("#")]),s._v(" "),t("strong",[s._v("例如本来是java -jar xxx.jar，现在是nohub java -jar xxx.jar &")])]),s._v(" "),t("h6",{attrs:{id:"那么这样-服务器上的程序就会在后台运行了-不会触发消除机制。"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#那么这样-服务器上的程序就会在后台运行了-不会触发消除机制。"}},[s._v("#")]),s._v(" "),t("strong",[s._v("那么这样，服务器上的程序就会在后台运行了，不会触发消除机制。")])]),s._v(" "),t("h5",{attrs:{id:"二、使用screen执行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、使用screen执行"}},[s._v("#")]),s._v(" 二、使用screen执行")]),s._v(" "),t("h6",{attrs:{id:"linux系统默认没有screen工具-需要先进行安装。"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux系统默认没有screen工具-需要先进行安装。"}},[s._v("#")]),s._v(" "),t("strong",[s._v("Linux系统默认没有screen工具，需要先进行安装。")])]),s._v(" "),t("h6",{attrs:{id:"centos系列系统安装命令-yum-install-screen"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centos系列系统安装命令-yum-install-screen"}},[s._v("#")]),s._v(" "),t("strong",[s._v("CentOS系列系统安装命令：yum install screen")])]),s._v(" "),t("h6",{attrs:{id:"ubuntu-系列系统安装命令-sudo-apt-get-install-screen"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu-系列系统安装命令-sudo-apt-get-install-screen"}},[s._v("#")]),s._v(" "),t("strong",[s._v("Ubuntu 系列系统安装命令：sudo  apt-get  install screen")])]),s._v(" "),t("h6",{attrs:{id:"创建screen窗口-折行命令-screen-s-name-name是自己起的窗口名字-可以随便起"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建screen窗口-折行命令-screen-s-name-name是自己起的窗口名字-可以随便起"}},[s._v("#")]),s._v(" "),t("strong",[s._v("创建screen窗口，折行命令：screen -S name，name是自己起的窗口名字，可以随便起")])]),s._v(" "),t("h6",{attrs:{id:"折行完创建窗口命令后-会进入一个新的窗口-现象就是之前的折行命令的文字效果被清空了"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#折行完创建窗口命令后-会进入一个新的窗口-现象就是之前的折行命令的文字效果被清空了"}},[s._v("#")]),s._v(" "),t("strong",[s._v("折行完创建窗口命令后，会进入一个新的窗口，现象就是之前的折行命令的文字效果被清空了")])]),s._v(" "),t("h6",{attrs:{id:"然后你就可以在这个新的窗口折行你要的操作了-即运行程序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#然后你就可以在这个新的窗口折行你要的操作了-即运行程序"}},[s._v("#")]),s._v(" "),t("strong",[s._v("然后你就可以在这个新的窗口折行你要的操作了，即运行程序")])]),s._v(" "),t("h6",{attrs:{id:"然后退出这个窗口的命令是-先按ctrl-a-然后按d"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#然后退出这个窗口的命令是-先按ctrl-a-然后按d"}},[s._v("#")]),s._v(" "),t("strong",[s._v("然后退出这个窗口的命令是：先按ctrl+a，然后按d")])]),s._v(" "),t("h6",{attrs:{id:"退出后刚刚折行的程序还是会在后台折行-即使关闭了连接也会运行-不会被杀死。"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#退出后刚刚折行的程序还是会在后台折行-即使关闭了连接也会运行-不会被杀死。"}},[s._v("#")]),s._v(" "),t("strong",[s._v("退出后刚刚折行的程序还是会在后台折行，即使关闭了连接也会运行，不会被杀死。")])]),s._v(" "),t("h6",{attrs:{id:"若想回到刚刚的窗口-折行命令-screen-r-d"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#若想回到刚刚的窗口-折行命令-screen-r-d"}},[s._v("#")]),s._v(" "),t("strong",[s._v("若想回到刚刚的窗口，折行命令：screen -r -d")])]),s._v(" "),t("h6",{attrs:{id:"列出在执行的screen窗口-执行命令-screen-ls-会列出所有运行中带有pid的窗口名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#列出在执行的screen窗口-执行命令-screen-ls-会列出所有运行中带有pid的窗口名"}},[s._v("#")]),s._v(" "),t("strong",[s._v("列出在执行的screen窗口，执行命令：screen -ls，会列出所有运行中带有pid的窗口名")])]),s._v(" "),t("h6",{attrs:{id:"折行screen-r-pid-就可以回到指定的窗口-pid指的是screen-ls列出的指定窗口的pid"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#折行screen-r-pid-就可以回到指定的窗口-pid指的是screen-ls列出的指定窗口的pid"}},[s._v("#")]),s._v(" "),t("strong",[s._v("折行screen -r pid，就可以回到指定的窗口，pid指的是screen -ls列出的指定窗口的pid")])]),s._v(" "),t("h6",{attrs:{id:"关闭指定的窗口进程-杀死-screen-s-进程名-x-quit"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关闭指定的窗口进程-杀死-screen-s-进程名-x-quit"}},[s._v("#")]),s._v(" "),t("strong",[s._v("关闭指定的窗口进程（杀死）screen -S 进程名 -X quit")])]),s._v(" "),t("h2",{attrs:{id:"_5、设置为服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5、设置为服务"}},[s._v("#")]),s._v(" 5、设置为服务")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /etc/redis\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("下面的命令根据redis的安装目录的位置具体操作")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /usr/local/redis-5.0.8/redis.conf /etc/redis/6379.conf\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /usr/local/redis-5.0.8/utils/redis_init_script /etc/init.d/redis_6379\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("启动&停止")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("systemctl start redis_6379.service\n\nsystemctl stop redis_6379.service\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("CentOS 6：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" redis_6379 start\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" redis_6379 stop\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("如果是以服务方式启动，原先的redis.conf有修改密码的话，还需要修改脚本"),t("code",[s._v("/etc/init.d/reds_6379")]),s._v("，否则停止服务时会报“无权限”错误")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("REDISPORT")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("EXEC")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/bin/redis-server\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CLIEXEC")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/bin/redis-cli\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 新增下面一行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("PASSWORD")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("将")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CLIEXEC")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$REDISPORT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("修改为：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CLIEXEC")]),s._v(" -a "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$PASSWORD")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$REDISPORT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);