(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{506:function(s,a,t){"use strict";t.r(a);var e=t(2),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"centos下mysql的安装和配置远程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centos下mysql的安装和配置远程"}},[s._v("#")]),s._v(" centos下mysql的安装和配置远程")]),s._v(" "),t("h4",{attrs:{id:"下载mysql的-yum-repository"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载mysql的-yum-repository"}},[s._v("#")]),s._v(" 下载mysql的 Yum Repository")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("yum -y install mysql57-community-release-el7-10.noarch.rpm\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"上面的是mysql的yum-repository-现在是yum安装mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#上面的是mysql的yum-repository-现在是yum安装mysql"}},[s._v("#")]),s._v(" 上面的是mysql的Yum Repository，现在是yum安装mysql")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("yum -y install mysql57-community-release-el7-10.noarch.rpm\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"之后就开始安装mysql服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#之后就开始安装mysql服务器"}},[s._v("#")]),s._v(" 之后就开始安装MySQL服务器")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("yum -y install mysql-community-server\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"启动mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动mysql"}},[s._v("#")]),s._v(" 启动MySQL")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("systemctl start  mysqld.service\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"查看mysql运行状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看mysql运行状态"}},[s._v("#")]),s._v(" 查看MySQL运行状态")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("systemctl status mysqld.service\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"找出root用户的密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#找出root用户的密码"}},[s._v("#")]),s._v(" 找出root用户的密码")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('grep "password" /var/log/mysqld.log\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"如果找不到-或者是忘记密码的话-折行下面几部操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如果找不到-或者是忘记密码的话-折行下面几部操作"}},[s._v("#")]),s._v(" 如果找不到,或者是忘记密码的话，折行下面几部操作")]),s._v(" "),t("ol",[t("li",[t("h5",{attrs:{id:"修改mysql的登录设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改mysql的登录设置"}},[s._v("#")]),s._v(" 修改MySQL的登录设置：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("vim /etc/my.cnf\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("h5",{attrs:{id:"在-mysqld-的段中加上一句-skip-grant-tables"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在-mysqld-的段中加上一句-skip-grant-tables"}},[s._v("#")]),s._v(" 在[mysqld]的段中加上一句：skip-grant-tables")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("例如：\n[mysqld]\ndatadir=/var/lib/mysql\nsocket=/var/lib/mysql/mysql.sock\nskip-grant-tables\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])]),s._v(" "),t("li",[t("h5",{attrs:{id:"重新启动mysqld"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重新启动mysqld"}},[s._v("#")]),s._v(" 重新启动mysqld")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("service mysqld restart\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("h5",{attrs:{id:"登录并修改mysql的root密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#登录并修改mysql的root密码"}},[s._v("#")]),s._v(" 登录并修改MySQL的root密码")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# mysql\nWelcome to the MySQL monitor. Commands end with ; or \\g.\nYour MySQL connection id is 3 to server version: 3.23.56\nType 'help;' or '\\h' for help. Type '\\c' to clear the buffer.\nmysql> USE mysql ;\nDatabase changed\nmysql> UPDATE user SET Password = password ( '你的新密码' ) WHERE User = 'root' ;\nQuery OK, 0 rows affected (0.00 sec)\nRows matched: 2 Changed: 0 Warnings: 0\nmysql> flush privileges ;\nQuery OK, 0 rows affected (0.01 sec)\nmysql> quit\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])])]),s._v(" "),t("li",[t("h5",{attrs:{id:"将mysql的登录设置修改回来"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#将mysql的登录设置修改回来"}},[s._v("#")]),s._v(" 将MySQL的登录设置修改回来")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("vim /etc/my.cnf\n将刚才在[mysqld]的段中加上的skip-grant-tables删除\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])]),s._v(" "),t("li",[t("h5",{attrs:{id:"重新启动mysqld-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重新启动mysqld-2"}},[s._v("#")]),s._v(" 重新启动mysqld")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("service mysqld restart\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])]),s._v(" "),t("h4",{attrs:{id:"开启mysql的远程连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开启mysql的远程连接"}},[s._v("#")]),s._v(" 开启mysql的远程连接")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("在mysql控制台执行:\n\tgrant all privileges on *.* to 'root'@'%' identified by 'root' with grant option;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"如果有报错说your-password-does-not-satisfy-the-current-policy-requirements"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如果有报错说your-password-does-not-satisfy-the-current-policy-requirements"}},[s._v("#")]),s._v(" 如果有报错说Your password does not satisfy the current policy requirements.")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("进入mysql控制台\n\n//设置密码等级\nset global validate_password_policy=0;\n\n//设置密码最小位数\nset global validate_password_length=4;\n\n//再次运行  mysql_secure_installation\ngrant all privileges on *.* to 'root'@'%' identified by 'root' with grant option;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h4",{attrs:{id:"设置完成-我发现有些服务器开端口号要在云服务控制面板那里去开端口才有用-直接在远程机子上开端口号可能达不到我们想要的效果"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置完成-我发现有些服务器开端口号要在云服务控制面板那里去开端口才有用-直接在远程机子上开端口号可能达不到我们想要的效果"}},[s._v("#")]),s._v(" 设置完成，我发现有些服务器开端口号要在云服务控制面板那里去开端口才有用，直接在远程机子上开端口号可能达不到我们想要的效果")]),s._v(" "),t("h2",{attrs:{id:"附上centos开端口号命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#附上centos开端口号命令"}},[s._v("#")]),s._v(" 附上centos开端口号命令")]),s._v(" "),t("h4",{attrs:{id:"方式一"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方式一"}},[s._v("#")]),s._v(" 方式一")]),s._v(" "),t("h5",{attrs:{id:"_1、开启防火墙"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、开启防火墙"}},[s._v("#")]),s._v(" 1、开启防火墙")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("systemctl start firewalld\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"_2、开放指定端口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、开放指定端口"}},[s._v("#")]),s._v(" 2、开放指定端口")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v(" firewall-cmd --zone=public --add-port=1935/tcp --permanent\n \n 命令含义：\n--zone #作用域\n--add-port=1935/tcp  #添加端口，格式为：端口/通讯协议\n--permanent  #永久生效，没有此参数重启后失效\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h5",{attrs:{id:"_3、重启防火墙"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、重启防火墙"}},[s._v("#")]),s._v(" 3、重启防火墙")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("firewall-cmd --reload\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"_4、查看端口号"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、查看端口号"}},[s._v("#")]),s._v(" 4、查看端口号")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("netstat -ntlp   //查看当前所有tcp端口·\n\nnetstat -ntulp |grep 1935   //查看所有1935端口使用情况·\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"方式二"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方式二"}},[s._v("#")]),s._v(" 方式二")]),s._v(" "),t("h5",{attrs:{id:"开放端口-8080"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开放端口-8080"}},[s._v("#")]),s._v(" 开放端口:8080")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("/sbin/iptables -I INPUT -p tcp --dport 8080 -j ACCEPT\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"方式三"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方式三"}},[s._v("#")]),s._v(" 方式三")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("-A INPUT -m state --state NEW -m tcp -p tcp --dport 8080 -j ACCEPT\n\nservice iptables restart\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);