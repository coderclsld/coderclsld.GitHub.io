(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{513:function(s,t,a){"use strict";a.r(t);var e=a(2),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"centos7下安装docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#centos7下安装docker"}},[s._v("#")]),s._v(" centos7下安装docker")]),s._v(" "),a("h4",{attrs:{id:"一、查看内核是否符合安装要求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、查看内核是否符合安装要求"}},[s._v("#")]),s._v(" 一、查看内核是否符合安装要求")]),s._v(" "),a("div",{staticClass:"language-powershell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[s._v("uname "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("r\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("table",[a("thead",[a("tr",[a("th",[s._v("centos版本")]),s._v(" "),a("th",[s._v("内核要求")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("centos 7 x64")]),s._v(" "),a("td",[s._v("3.10以上")])]),s._v(" "),a("tr",[a("td",[s._v("centos 6.5+ x64")]),s._v(" "),a("td",[s._v("2.6.32—431以上")])])])]),s._v(" "),a("h4",{attrs:{id:"二、卸载旧版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、卸载旧版本"}},[s._v("#")]),s._v(" 二、卸载旧版本")]),s._v(" "),a("p",[s._v("docker旧版本的名称为docker、docker-engine或者docker-io")]),s._v(" "),a("p",[s._v("如果之前安装过旧版本的要先卸载旧版本，才能安装新版本")]),s._v(" "),a("div",{staticClass:"language-powershell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[s._v("sudo yum remove docker \\\n\t\t\t\tdocker-client \\\n\t\t\t\tdocker-client-latest \\\n\t\t\t\tdocker-common \\\n\t\t\t\tdocker-latest \\\n\t\t\t\tdocker-latest-logrotate \\\n\t\t\t\tdocker-logrotate \\\n\t\t\t\tdocker-selinux \\\n\t\t\t\tdocker-engine-selinux \\\n\t\t\t\tdocker-engine \\\n\t\t\t\tdocker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("io\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h4",{attrs:{id:"三、安装依赖包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、安装依赖包"}},[s._v("#")]),s._v(" 三、安装依赖包")]),s._v(" "),a("div",{staticClass:"language-powershell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[s._v("sudo yum install "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("y yum-utils \\\ndevice-mapper-persistent-"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("data")]),s._v(" \\\nlvm2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h4",{attrs:{id:"四、配置镜像仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、配置镜像仓库"}},[s._v("#")]),s._v(" 四、配置镜像仓库")]),s._v(" "),a("div",{staticClass:"language-powershell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#添加docker官方仓库")]),s._v("\nsudo yum-config-manager \\\n\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add-repo")]),s._v(" \\\n\thttps:"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dowmload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("docker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com/linux/centos/docker-ce"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("repo\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#添加阿里云镜象仓库")]),s._v("\nsudo yum-config-manager \\\n\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add-repo")]),s._v(" \\\n\thttps:"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mirrors"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("aliyun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com/docker-ce/linux/centos/docker-ce"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("repo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h4",{attrs:{id:"五、安装docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、安装docker"}},[s._v("#")]),s._v(" 五、安装docker")]),s._v(" "),a("div",{staticClass:"language-powershell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[s._v("sudo yum list docker-ce "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("showduuplicates "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("r\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#列出可以安装的docker版本")]),s._v("\nsudo yum install docker-ce\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#下载最新版本")]),s._v("\nsudo ymu install "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("y docker-ce-18"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("03"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ce-1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("el7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("centos\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#安装指定版本")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h4",{attrs:{id:"六、启动docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六、启动docker"}},[s._v("#")]),s._v(" 六、启动docker")]),s._v(" "),a("div",{staticClass:"language-powershell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启动")]),s._v("\nsudo systemctl "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("start")]),s._v(" docker\nsudo service "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("start")]),s._v(" docker\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#停止")]),s._v("\nsudo systemctl stop docker\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重启")]),s._v("\nsudo systemctl restart docker\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#检查docker运行是否正常")]),s._v("\nsudo docker run hello-world\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h4",{attrs:{id:"七、检查docker是否安装成功"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#七、检查docker是否安装成功"}},[s._v("#")]),s._v(" 七、检查docker是否安装成功")]),s._v(" "),a("div",{staticClass:"language-powershell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看docker安装版本号")]),s._v("\ndecker "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("version\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"八、卸载docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#八、卸载docker"}},[s._v("#")]),s._v(" 八、卸载docker")]),s._v(" "),a("div",{staticClass:"language-powershell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[s._v("sudo yum remove deocker-ce\n\nsudo "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("rf "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("lib/docker\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])])}),[],!1,null,null,null);t.default=r.exports}}]);