(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{518:function(t,s,e){"use strict";e.r(s);var a=e(2),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"mysql执行优化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql执行优化"}},[t._v("#")]),t._v(" mysql执行优化")]),t._v(" "),e("h3",{attrs:{id:"开启慢查询日志"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开启慢查询日志"}},[t._v("#")]),t._v(" 开启慢查询日志")]),t._v(" "),e("h3",{attrs:{id:"on-duplicate-key-update"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#on-duplicate-key-update"}},[t._v("#")]),t._v(" on duplicate key update")]),t._v(" "),e("h3",{attrs:{id:"执行计划各列的显示含义"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#执行计划各列的显示含义"}},[t._v("#")]),t._v(" 执行计划各列的显示含义")]),t._v(" "),e("p",[t._v("id              select唯一标识\nselect_type     select类型\ntable           表名称\npartitions      匹配的分区\ntype            连接类型\npossible_keys   可能的索引选择\nkey             实际用到的索引\nkey_len         实际索引长度\nref             与索引比较的列\nrows            预计要检查的行数\nfiltered        按表条件过滤的行百分比\nextra           附加信息")]),t._v(" "),e("h3",{attrs:{id:"索引失效"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#索引失效"}},[t._v("#")]),t._v(" 索引失效")]),t._v(" "),e("p",[t._v("sql语句没有走索引，排除没有建立索引之外，最大的可能性就是索引失效了\n不满足最左前缀原则\n范围索引列没有放到最后\n使用了select *\n索引列上有计算\n索引列上使用了函数\n字符类型没有加引号\n用is null和is not null没注意字段是否允许为空\nlike查询左边有%\n使用or关键字时没有注意")]),t._v(" "),e("h3",{attrs:{id:"show-processlist"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#show-processlist"}},[t._v("#")]),t._v(" show processlist")]),t._v(" "),e("p",[t._v("查看当前线程执行情况，可以从执行结果中看出,如果发现异常的sql，可以kill掉，确保数据库不会出现严重的问题\nid      线程id\nuser    执行sql的用户\nhost    执行sql的ip和端口\ndb      数据库\ncommand 执行命令，包括：daemon、query、sleep\ntime    执行消耗时间\nstate   执行状态，\ninfo    执行信息，里面可能包含SQL信息")])])}),[],!1,null,null,null);s.default=n.exports}}]);