import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,a,o as r}from"./app-C_wt19t6.js";const n={};function d(o,e){return r(),i("div",null,e[0]||(e[0]=[a('<h1 id="tidb" tabindex="-1"><a class="header-anchor" href="#tidb"><span>TiDB</span></a></h1><blockquote><p>pingcap开源的分布式数据库，支持OLTP和OLAP，即兼顾传统关系型数据库mysql的频繁增删改查和事务处理，也兼顾类似Hive、clickhouse实时大IO查询的分析操作</p></blockquote><h3 id="一、tidb安装" tabindex="-1"><a class="header-anchor" href="#一、tidb安装"><span>一、tidb安装</span></a></h3><p><a href="https://dev-tang.com/post/2018/03/tidb-install-and-use.html" target="_blank" rel="noopener noreferrer">tidb单节点安装操作</a></p><h3 id="二、tidb结构" tabindex="-1"><a class="header-anchor" href="#二、tidb结构"><span>二、tidb结构</span></a></h3><p>tidb集群主要分以下三个组件</p><h4 id="tidb-server" tabindex="-1"><a class="header-anchor" href="#tidb-server"><span>tidb server：</span></a></h4><p>负责接收SQL请求，处理SQL相关逻辑，并通过pd找到存储计算所需要的tikv地址，与tikv交互获取数据，最终返回结果。</p><h4 id="pd-server" tabindex="-1"><a class="header-anchor" href="#pd-server"><span>pd server：</span></a></h4><p>是整个集群的管理模块，其主要工作有三个，一是存储集群的元信息（某个key存储在哪个tikv节点）；二是对tikv集群进行调度和负载均衡（如数据迁移、raft）；三是分配全局唯一且递增的事务ID</p><h4 id="tikv-server" tabindex="-1"><a class="header-anchor" href="#tikv-server"><span>tikv server：</span></a></h4><p>复制存储数据，从外部看tikv是一个分布式的提供事务的key-value存储引擎，存储数据的基本单位是Region，每个region负责存储一个key range（从stratKey到endKey的左闭右开区间）的数据，每个tikv阶段会负责多个region。tikv使用raft协议作复制，保持数据的一致性和容灾。不同节点上的多个Regina构成一个raft group，数据在多个tikv之间负载均衡由pd调度，是以Regina为单位进行调度</p><p><a href="https://blog.csdn.net/lianshaohua/article/details/105029321#:~:text=TiDB%20%E7%9A%84%20%E5%8E%9F%E7%90%86%20%E4%B8%8E%E5%AE%9E%E7%8E%B0%20TiDB%20%E6%9E%B6%E6%9E%84%E6%98%AF%20SQL%20%E5%B1%82%E5%92%8C,MySQL%20%E7%9A%84%E5%85%B3%E7%B3%BB%E3%80%82%20%E6%9C%89%E4%BA%86%20TiKV%EF%BC%8C%20TiDB%20%E5%B1%82%E5%8F%AA%E9%9C%80%E8%A6%81%E5%AE%9E%E7%8E%B0%20SQL%20%E5%B1%82%EF%BC%8C" target="_blank" rel="noopener noreferrer">tidb原理解析</a></p><h3 id="三、tidb源码阅读" tabindex="-1"><a class="header-anchor" href="#三、tidb源码阅读"><span>三、tidb源码阅读</span></a></h3><p>tidbserver源码</p><p>[pingcap tidb源码阅读](<a href="https://zhuanlan.zhihu.com/p/163607256" target="_blank" rel="noopener noreferrer">TiDB源码阅读笔记（一） TiDB的入口 - 知乎 (zhihu.com)</a>)</p><p>tikv源码</p><p>[tikv源码三部曲]([TiKV 源码阅读三部曲（一）重要模块 - TiDB 社区技术月刊 | TiDB Books](<a href="https://tidb.net/book/tidb-monthly/2022/2022-10/feature-indepth/tikv-code-one#:~:text=%E6%80%BB%E4%BD%93%E6%9D%A5%E7%9C%8B%EF%BC%8CTiKV" target="_blank" rel="noopener noreferrer">https://tidb.net/book/tidb-monthly/2022/2022-10/feature-indepth/tikv-code-one#:~:text=总体来看，TiKV</a> 是一个通过 Multi-Raft 实现的分布式 KV 数据库。 TiKV 的每个进程拥有一个,region 是一个 raft 组，会存在于副本数个 store 上管理一段 KV 区间的数据。))</p><h3 id="四、mysql到tidb的迁移" tabindex="-1"><a class="header-anchor" href="#四、mysql到tidb的迁移"><span>四、mysql到tidb的迁移</span></a></h3><p>三种方案</p><p>双写方案：同时往MySQL和tidb写入数据，两个数据库数据完全保持同步</p><p>读写分离：数据写入MySQL，从tidb读，具体方案是切换到线上有，保持读写分离一周左右，这一周的时间来确定tidb有没有问题，在把写操作也切到tidb</p>',22)]))}const s=t(n,[["render",d],["__file","TiDb.html.vue"]]),c=JSON.parse(`{"path":"/database/TiDb.html","title":"TiDB","lang":"en-US","frontmatter":{"date":"2024-08-22T00:00:00.000Z","order":5,"category":["database"],"tag":["TiDB"],"description":"TiDB pingcap开源的分布式数据库，支持OLTP和OLAP，即兼顾传统关系型数据库mysql的频繁增删改查和事务处理，也兼顾类似Hive、clickhouse实时大IO查询的分析操作 一、tidb安装 tidb单节点安装操作 二、tidb结构 tidb集群主要分以下三个组件 tidb server： 负责接收SQL请求，处理SQL相关逻辑，并通...","head":[["meta",{"property":"og:url","content":"https://github.com/coderclsld/coderclsld.github.io/database/TiDb.html"}],["meta",{"property":"og:site_name","content":"clsld 's blog"}],["meta",{"property":"og:title","content":"TiDB"}],["meta",{"property":"og:description","content":"TiDB pingcap开源的分布式数据库，支持OLTP和OLAP，即兼顾传统关系型数据库mysql的频繁增删改查和事务处理，也兼顾类似Hive、clickhouse实时大IO查询的分析操作 一、tidb安装 tidb单节点安装操作 二、tidb结构 tidb集群主要分以下三个组件 tidb server： 负责接收SQL请求，处理SQL相关逻辑，并通..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-09-09T02:58:56.000Z"}],["meta",{"property":"article:author","content":"clsld"}],["meta",{"property":"article:tag","content":"TiDB"}],["meta",{"property":"article:published_time","content":"2024-08-22T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-09-09T02:58:56.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"TiDB\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-08-22T00:00:00.000Z\\",\\"dateModified\\":\\"2024-09-09T02:58:56.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"clsld\\",\\"url\\":\\"https://github.com/coderclsld\\"}]}"]]},"headers":[{"level":3,"title":"一、tidb安装","slug":"一、tidb安装","link":"#一、tidb安装","children":[]},{"level":3,"title":"二、tidb结构","slug":"二、tidb结构","link":"#二、tidb结构","children":[]},{"level":3,"title":"三、tidb源码阅读","slug":"三、tidb源码阅读","link":"#三、tidb源码阅读","children":[]},{"level":3,"title":"四、mysql到tidb的迁移","slug":"四、mysql到tidb的迁移","link":"#四、mysql到tidb的迁移","children":[]}],"git":{"createdTime":1675481249000,"updatedTime":1725850736000,"contributors":[{"name":"clsld","email":"807686672@qq.com","commits":1}]},"readingTime":{"minutes":2.3,"words":691},"filePathRelative":"database/TiDb.md","localizedDate":"August 22, 2024","excerpt":"\\n<blockquote>\\n<p>pingcap开源的分布式数据库，支持OLTP和OLAP，即兼顾传统关系型数据库mysql的频繁增删改查和事务处理，也兼顾类似Hive、clickhouse实时大IO查询的分析操作</p>\\n</blockquote>\\n<h3>一、tidb安装</h3>\\n<p><a href=\\"https://dev-tang.com/post/2018/03/tidb-install-and-use.html\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">tidb单节点安装操作</a></p>\\n<h3>二、tidb结构</h3>\\n<p>tidb集群主要分以下三个组件</p>","autoDesc":true}`);export{s as comp,c as data};
