import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as l,a as s,o as r}from"./app-C_wt19t6.js";const a={};function n(i,e){return r(),l("div",null,e[0]||(e[0]=[s('<h1 id="mysql执行优化" tabindex="-1"><a class="header-anchor" href="#mysql执行优化"><span>mysql执行优化</span></a></h1><h3 id="开启慢查询日志" tabindex="-1"><a class="header-anchor" href="#开启慢查询日志"><span>开启慢查询日志</span></a></h3><h3 id="on-duplicate-key-update" tabindex="-1"><a class="header-anchor" href="#on-duplicate-key-update"><span>on duplicate key update</span></a></h3><h3 id="执行计划各列的显示含义" tabindex="-1"><a class="header-anchor" href="#执行计划各列的显示含义"><span>执行计划各列的显示含义</span></a></h3><p>id select唯一标识<br> select_type select类型<br> table 表名称<br> partitions 匹配的分区<br> type 连接类型<br> possible_keys 可能的索引选择<br> key 实际用到的索引<br> key_len 实际索引长度<br> ref 与索引比较的列<br> rows 预计要检查的行数<br> filtered 按表条件过滤的行百分比<br> extra 附加信息</p><h3 id="索引失效" tabindex="-1"><a class="header-anchor" href="#索引失效"><span>索引失效</span></a></h3><p>sql语句没有走索引，排除没有建立索引之外，最大的可能性就是索引失效了<br> 不满足最左前缀原则<br> 范围索引列没有放到最后<br> 使用了select *<br> 索引列上有计算<br> 索引列上使用了函数<br> 字符类型没有加引号<br> 用is null和is not null没注意字段是否允许为空<br> like查询左边有%<br> 使用or关键字时没有注意</p><h3 id="show-processlist" tabindex="-1"><a class="header-anchor" href="#show-processlist"><span>show processlist</span></a></h3><p>查看当前线程执行情况，可以从执行结果中看出,如果发现异常的sql，可以kill掉，确保数据库不会出现严重的问题<br> id 线程id<br> user 执行sql的用户<br> host 执行sql的ip和端口<br> db 数据库<br> command 执行命令，包括：daemon、query、sleep<br> time 执行消耗时间<br> state 执行状态，<br> info 执行信息，里面可能包含SQL信息</p>',9)]))}const c=t(a,[["render",n],["__file","mysql执行计划.html.vue"]]),d=JSON.parse(`{"path":"/database/mysql/mysql%E6%89%A7%E8%A1%8C%E8%AE%A1%E5%88%92.html","title":"mysql执行优化","lang":"en-US","frontmatter":{"date":"2024-08-22T00:00:00.000Z","order":8,"category":["database"],"tag":["mysql"],"description":"mysql执行优化 开启慢查询日志 on duplicate key update 执行计划各列的显示含义 id select唯一标识 select_type select类型 table 表名称 partitions 匹配的分区 type 连接类型 possible_keys 可能的索引选择 key 实际用到的索引 key_len 实际索引长度 re...","head":[["meta",{"property":"og:url","content":"https://github.com/coderclsld/coderclsld.github.io/database/mysql/mysql%E6%89%A7%E8%A1%8C%E8%AE%A1%E5%88%92.html"}],["meta",{"property":"og:site_name","content":"clsld 's blog"}],["meta",{"property":"og:title","content":"mysql执行优化"}],["meta",{"property":"og:description","content":"mysql执行优化 开启慢查询日志 on duplicate key update 执行计划各列的显示含义 id select唯一标识 select_type select类型 table 表名称 partitions 匹配的分区 type 连接类型 possible_keys 可能的索引选择 key 实际用到的索引 key_len 实际索引长度 re..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-09-09T02:58:56.000Z"}],["meta",{"property":"article:author","content":"clsld"}],["meta",{"property":"article:tag","content":"mysql"}],["meta",{"property":"article:published_time","content":"2024-08-22T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-09-09T02:58:56.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"mysql执行优化\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-08-22T00:00:00.000Z\\",\\"dateModified\\":\\"2024-09-09T02:58:56.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"clsld\\",\\"url\\":\\"https://github.com/coderclsld\\"}]}"]]},"headers":[{"level":3,"title":"开启慢查询日志","slug":"开启慢查询日志","link":"#开启慢查询日志","children":[]},{"level":3,"title":"on duplicate key update","slug":"on-duplicate-key-update","link":"#on-duplicate-key-update","children":[]},{"level":3,"title":"执行计划各列的显示含义","slug":"执行计划各列的显示含义","link":"#执行计划各列的显示含义","children":[]},{"level":3,"title":"索引失效","slug":"索引失效","link":"#索引失效","children":[]},{"level":3,"title":"show processlist","slug":"show-processlist","link":"#show-processlist","children":[]}],"git":{"createdTime":1675147913000,"updatedTime":1725850736000,"contributors":[{"name":"clsld","email":"807686672@qq.com","commits":1}]},"readingTime":{"minutes":1.15,"words":346},"filePathRelative":"database/mysql/mysql执行计划.md","localizedDate":"August 22, 2024","excerpt":"\\n<h3>开启慢查询日志</h3>\\n<h3>on duplicate key update</h3>\\n<h3>执行计划各列的显示含义</h3>\\n<p>id              select唯一标识<br>\\nselect_type     select类型<br>\\ntable           表名称<br>\\npartitions      匹配的分区<br>\\ntype            连接类型<br>\\npossible_keys   可能的索引选择<br>\\nkey             实际用到的索引<br>\\nkey_len         实际索引长度<br>\\nref             与索引比较的列<br>\\nrows            预计要检查的行数<br>\\nfiltered        按表条件过滤的行百分比<br>\\nextra           附加信息</p>","autoDesc":true}`);export{c as comp,d as data};
